{"version":3,"file":"static/js/485.3e9864b1.chunk.js","mappings":"oOACA,GAAgB,UAAY,8BAA8B,MAAQ,2B,kBCK5DA,GAAkBC,EAAAA,EAAAA,OAAK,kBAC3B,4BAD2B,IA+B7B,EA3BmB,WAAO,IAAD,EACvB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEA,ECVuB,SAAAC,GACvB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KASA,OAPAC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,IACJK,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,SAAAC,GACtBJ,GAAU,OAAII,EAAIC,SACnB,GACF,GAAE,CAACR,IAEG,CAAEE,OAAAA,EACV,CDDoBO,CADR,UAAGX,EAAaY,IAAI,gBAApB,QAAgC,IACnCR,EAAR,EAAQA,OASR,OACE,iBAAKS,UAAWC,EAAAA,UAAhB,WACE,kBAAMC,SATW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACflB,EAAgB,CAAEC,MAAOgB,EAAKE,SAASC,UAAUC,MAAMC,gBACvDL,EAAKM,OACN,EAIG,WACE,kBAAOX,UAAWC,EAAAA,MAAcW,KAAK,OAAOC,KAAK,eACjD,mBAAQD,KAAK,SAASZ,UAAWC,EAAAA,OAAjC,wBAIF,SAAC,EAAAa,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAChC,EAAD,CAAiBO,OAAQA,QAIhC,C,8LEjCY0B,EAAU,mCAEVC,EAAU,mCAAG,oGACNC,EAAAA,GAAAA,IAAA,kEAC2CF,IAFrC,cAClBrB,EADkB,yBAKjBA,EAAIwB,MALa,2CAAH,qDAQV1B,EAAW,mCAAG,WAAML,GAAN,uFACP8B,EAAAA,GAAAA,IAAA,4DACqCF,EADrC,iCACqE5B,EADrE,gCADO,cACnBO,EADmB,yBAKlBA,EAAIwB,MALc,2CAAH,sDAQXC,EAAY,mCAAG,WAAMC,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,oBACoCL,EADpC,oBADQ,cACpBrB,EADoB,yBAKnBA,EAAIwB,MALe,2CAAH,sDAQZG,EAAY,mCAAG,WAAMD,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,4BAC4CL,EAD5C,oBADQ,cACpBrB,EADoB,yBAKnBA,EAAIwB,KAAKI,MALU,2CAAH,sDAQZC,EAAY,mCAAG,WAAMH,GAAN,uFACRH,EAAAA,GAAAA,IAAA,6CACsBG,EADtB,4BAC4CL,EAD5C,2BADQ,cACpBrB,EADoB,yBAKnBA,EAAIwB,MALe,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","utils/hooks/useSearch.jsx","utils/api/fetchMovies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesPage_container__jgAeo\",\"input\":\"MoviesPage_input__16dJ5\"};","import { useSearchParams } from 'react-router-dom';\nimport { Suspense, lazy } from 'react';\nimport { useSearch } from 'utils/hooks/useSearch';\nimport styles from './MoviesPage.module.css';\nimport { Loader } from 'components/Loader/Loader';\n\nconst SearchMovieList = lazy(() =>\n  import('components/SearchMovieList/SearchMovieList')\n);\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const { movies } = useSearch(query);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.movieName.value.toLowerCase() });\n    form.reset();\n  };\n\n  return (\n    <div className={styles.container}>\n      <form onSubmit={handleSubmit}>\n        <input className={styles.input} type=\"text\" name=\"movieName\" />\n        <button type=\"submit\" className={styles.submit}>\n          Search\n        </button>\n      </form>\n      <Suspense fallback={<Loader />}>\n        <SearchMovieList movies={movies} />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import { useState, useEffect } from 'react';\nimport { fetchSearch } from 'utils/api/fetchMovies';\n\nexport const useSearch = query => {\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (query === '') return;\n    fetchSearch(query).then(res => {\n      setMovies([...res.results]);\n    });\n  }, [query]);\n\n  return { movies };\n};\n","import axios from 'axios';\n\nexport const API_KEY = '18cc3ec683925dedb66d3e6092890eaa';\n\nexport const fetchTrend = async () => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return res.data;\n};\n\nexport const fetchSearch = async query => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n\n  return res.data;\n};\n\nexport const fetchDetails = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return res.data;\n};\n\nexport const fetchCredits = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return res.data.cast;\n};\n\nexport const fetchReviews = async id => {\n  const res = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return res.data;\n};\n\n// fetchDetails('414906').then(res => {\n//   const foo = res;\n//   console.log(foo);\n// });\n"],"names":["SearchMovieList","lazy","useSearchParams","searchParams","setSearchParams","query","useState","movies","setMovies","useEffect","fetchSearch","then","res","results","useSearch","get","className","styles","onSubmit","e","preventDefault","form","currentTarget","elements","movieName","value","toLowerCase","reset","type","name","Suspense","fallback","Loader","API_KEY","fetchTrend","axios","data","fetchDetails","id","fetchCredits","cast","fetchReviews"],"sourceRoot":""}