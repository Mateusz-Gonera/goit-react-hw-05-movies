{"version":3,"file":"static/js/485.74adfff8.chunk.js","mappings":"oOACA,GAAiB,E,kBCKXA,GAAkBC,EAAAA,EAAAA,OAAK,kBAC3B,4BAD2B,IA+B7B,EA3BmB,WAAO,IAAD,EACvB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEA,ECVuB,SAAAC,GACvB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KASA,OAPAC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,IACJK,EAAAA,EAAAA,IAAYL,GAAOM,MAAK,SAAAC,GACtBJ,GAAU,OAAII,EAAIC,SACnB,GACF,GAAE,CAACR,IAEG,CAAEE,OAAAA,EACV,CDDoBO,CADR,UAAGX,EAAaY,IAAI,gBAApB,QAAgC,IACnCR,EAAR,EAAQA,OASR,OACE,4BACE,kBAAMS,SATW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfhB,EAAgB,CAAEC,MAAOc,EAAKE,SAASC,UAAUC,MAAMC,gBACvDL,EAAKM,OACN,EAIG,WACE,kBAAOC,KAAK,OAAOC,KAAK,eACxB,mBAAQD,KAAK,SAASE,UAAWC,EAAAA,OAAjC,wBAIF,SAAC,EAAAC,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAChC,EAAD,CAAiBO,OAAQA,QAIhC,C","sources":["pages/MoviesPage/MoviesPage.module.css","pages/MoviesPage/MoviesPage.jsx","utils/hooks/useSearch.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useSearchParams } from 'react-router-dom';\nimport { Suspense, lazy } from 'react';\nimport { useSearch } from 'utils/hooks/useSearch';\nimport styles from './MoviesPage.module.css';\nimport { Loader } from 'components/Loader/Loader';\n\nconst SearchMovieList = lazy(() =>\n  import('components/SearchMovieList/SearchMovieList')\n);\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const { movies } = useSearch(query);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.movieName.value.toLowerCase() });\n    form.reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"movieName\" />\n        <button type=\"submit\" className={styles.submit}>\n          Search\n        </button>\n      </form>\n      <Suspense fallback={<Loader />}>\n        <SearchMovieList movies={movies} />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import { useState, useEffect } from 'react';\nimport { fetchSearch } from 'utils/api/fetchMovies';\n\nexport const useSearch = query => {\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (query === '') return;\n    fetchSearch(query).then(res => {\n      setMovies([...res.results]);\n    });\n  }, [query]);\n\n  return { movies };\n};\n"],"names":["SearchMovieList","lazy","useSearchParams","searchParams","setSearchParams","query","useState","movies","setMovies","useEffect","fetchSearch","then","res","results","useSearch","get","onSubmit","e","preventDefault","form","currentTarget","elements","movieName","value","toLowerCase","reset","type","name","className","styles","Suspense","fallback","Loader"],"sourceRoot":""}